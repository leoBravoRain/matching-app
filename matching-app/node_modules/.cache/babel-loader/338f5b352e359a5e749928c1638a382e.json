{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/leo/Desktop/matchingApp/matching-app/src/screens/dashboard/dashboard.screen.js\";\nimport React from \"react\"; // import { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n// material ui\n\nimport Paper from '@material-ui/core/Paper';\nimport Container from '@material-ui/core/Container';\nimport { Button, Box } from \"@material-ui/core\";\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from \"@material-ui/core/CircularProgress\"; // import FavoriteBorder from '@material-ui/icons/FavoriteBorder';\n// import LiveTv from '@material-ui/icons/LiveTv';\n\nimport { fs, auth } from \"../../libraries/firebase/firebase\"; // //  component\n// import WorkshopComponent from \"./components/workshop.component\";\n// import OverviewWorkshop from \"./components/overviewWorkshop.component\";\n// firebase\n// import { auth } from \"../../config/firebase\";\n// import { fs } from \"../../config/firebase\";\n// fake data\n\nconst matchesWithUsers = [{\n  \"userName\": \"Emma Watson\",\n  \"linkToUser\": \"https://www.instagram.com/emmawatson/\"\n}, {\n  \"userName\": \"person 2\",\n  \"linkToUser\": \"https://www.google.com\"\n}];\n\nclass UserDashboard extends React.Component {\n  // constructor\n  constructor(props) {\n    // constructur of parent\n    super(props); // initial states\n\n    this.state = {\n      loading: true,\n      matchesWithUsers: [] // workshopsByCategory: null,\n      // garbagesPerDay: [],\n      // email: \"\",\n      // password: \"\",\n\n    };\n  }\n\n  logout() {\n    auth.signOut().then(function () {// Sign-out successful.\n    }).catch(function (error) {// An error happened.\n    });\n  }\n\n  componentDidMount() {\n    // // temp\n    // this.setState({\n    //     loading: false,\n    //     matchesWithUsers: matchesWithUsers,\n    // });\n    // check if user is logged\n    auth.onAuthStateChanged(user => {\n      if (!user) {\n        // console.log(\"user not logged\");\n        this.props.history.push('/'); // console.log(\"aosjid\");\n      } else {\n        console.log(\"user: \", user); // get number of garbage\n\n        fs.collection('users').doc(user.id).get().then(doc_ => {\n          console.log(doc_);\n          console.log(\"doc_: \", doc_.data());\n          var matchesWithUsers = [];\n\n          if (doc_.data().matches.length > 0) {\n            // get users data\n            fs.collection(\"users\").where(\"__name__\", \"in\", doc_.data().matches).get().then(snapshotquery => {\n              // iterate over each item\n              snapshotquery.forEach(doc => {\n                // console.log(\"response: \",doc.data());\n                matchesWithUsers.push(doc.data());\n              });\n              console.log(matchesWithUsers); // // update state\n\n              this.setState({\n                matchesWithUsers: matchesWithUsers,\n                loading: false,\n                userId: user.uid\n              });\n            });\n          } else {\n            // // update state\n            this.setState({\n              loading: false,\n              userId: user.uid\n            });\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    // return method\n    return /*#__PURE__*/_jsxDEV(Container, {\n      style: {// margin: 20,\n        // padding: 20,\n        // backgroundColor: \"red\",\n      },\n      children: !this.state.loading ? /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          style: {\n            margin: 15,\n            padding: 5\n          },\n          elevation: 5,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: () => this.props.history.push(\"/publicProfile/\" + this.state.userId),\n            children: \"See my public profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: () => this.logout(),\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"h6\",\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"Your matches\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 33\n          }, this), this.state.matchesWithUsers.map(item => {\n            return /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 49\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                onClick: () => {\n                  // alert(\"aisod\");\n                  // console.log(this);\n                  // this.window.props.location.href(item.linkToUser)\n                  window.open(item.linkToProfile);\n                },\n                children: \"Let's talk!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 45\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default UserDashboard;","map":{"version":3,"sources":["/home/leo/Desktop/matchingApp/matching-app/src/screens/dashboard/dashboard.screen.js"],"names":["React","Paper","Container","Button","Box","Typography","CircularProgress","fs","auth","matchesWithUsers","UserDashboard","Component","constructor","props","state","loading","logout","signOut","then","catch","error","componentDidMount","onAuthStateChanged","user","history","push","console","log","collection","doc","id","get","doc_","data","matches","length","where","snapshotquery","forEach","setState","userId","uid","render","margin","padding","textAlign","map","item","name","window","open","linkToProfile"],"mappings":"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","sourcesContent":["import React from \"react\";\n\n// import { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n// material ui\nimport Paper from '@material-ui/core/Paper';\nimport Container from '@material-ui/core/Container';\nimport { Button, Box } from \"@material-ui/core\";\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n// import FavoriteBorder from '@material-ui/icons/FavoriteBorder';\n// import LiveTv from '@material-ui/icons/LiveTv';\n\nimport {\n    fs,\n    auth,\n} from \"../../libraries/firebase/firebase\";\n\n\n// //  component\n// import WorkshopComponent from \"./components/workshop.component\";\n// import OverviewWorkshop from \"./components/overviewWorkshop.component\";\n\n// firebase\n// import { auth } from \"../../config/firebase\";\n// import { fs } from \"../../config/firebase\";\n\n// fake data\nconst matchesWithUsers = [\n    {\n        \"userName\": \"Emma Watson\",\n        \"linkToUser\": \"https://www.instagram.com/emmawatson/\",\n    },\n    {\n        \"userName\": \"person 2\",\n        \"linkToUser\": \"https://www.google.com\",\n    },\n];\n\nclass UserDashboard extends React.Component {\n\n    // constructor\n    constructor(props) {\n\n        // constructur of parent\n        super(props);\n\n        // initial states\n        this.state = {\n            loading: true,\n            matchesWithUsers: []\n            // workshopsByCategory: null,\n            // garbagesPerDay: [],\n            // email: \"\",\n            // password: \"\",\n        }\n\n    }\n\n    logout() {\n        auth.signOut().then(function () {\n            // Sign-out successful.\n        }).catch(function (error) {\n            // An error happened.\n        });\n\n    }\n\n    componentDidMount() {\n\n        // // temp\n        // this.setState({\n        //     loading: false,\n        //     matchesWithUsers: matchesWithUsers,\n        // });\n\n        // check if user is logged\n        auth.onAuthStateChanged((user) => {\n\n            if (!user) {\n\n                // console.log(\"user not logged\");\n\n                this.props.history.push('/');\n\n                // console.log(\"aosjid\");\n\n            }\n\n            else {\n\n                console.log(\"user: \", user);\n\n                // get number of garbage\n                fs.collection('users').doc(user.id).\n                    get().then(doc_ => {\n\n                        console.log(doc_);\n\n                        console.log(\"doc_: \", doc_.data());\n\n                        var matchesWithUsers = [];\n\n                        if (doc_.data().matches.length > 0){\n\n                            // get users data\n                            fs.collection(\"users\")\n                            .where(\"__name__\", \"in\", doc_.data().matches)\n                            .get().then(snapshotquery => {\n    \n                                // iterate over each item\n                                snapshotquery.forEach(doc => {\n                                \n                                    // console.log(\"response: \",doc.data());\n    \n                                    matchesWithUsers.push(doc.data());\n    \n                                });\n                                \n                                console.log(matchesWithUsers);\n\n                                // // update state\n                                this.setState({\n        \n                                    matchesWithUsers: matchesWithUsers,\n                                    loading: false,\n                                    userId: user.uid,\n        \n                                });\n    \n                            });\n\n                        }\n\n                        else {\n\n                            // // update state\n                            this.setState({\n    \n                                loading: false,\n                                userId: user.uid,\n    \n                            });\n\n                        }\n\n                    });\n\n\n            }\n\n        });\n\n    }\n\n    render() {\n\n        // return method\n        return (\n\n            <Container\n                style={{\n                    // margin: 20,\n                    // padding: 20,\n                    // backgroundColor: \"red\",\n                }}\n            >\n\n                {\n                    !this.state.loading\n\n                        ?\n\n                        <Container>\n\n                            {/* title */}\n                            <Paper\n                                style={{\n                                    margin: 15,\n                                    padding: 5,\n                                }}\n\n                                elevation={5}\n                            >   \n\n                                <Button variant=\"contained\" color=\"primary\"\n                                    onClick={() => this.props.history.push(\"/publicProfile/\" + this.state.userId)}\n                                >\n                                    See my public profile\n                                </Button>\n\n                                <Button variant=\"contained\" color=\"primary\"\n                                    onClick={() => this.logout()}\n                                >\n                                    Logout\n                                </Button>\n                                \n                                <Typography variant=\"h6\" component=\"h6\" style={{ textAlign: \"center\", }}>\n\n                                    Your matches\n \n                                </Typography>\n\n                                {/* collection of likes */}\n\n                                {\n                                    this.state.matchesWithUsers.map((item) => {\n\n                                        return (\n                                            <Box>\n\n                                                <Typography variant=\"body2\">\n                                                    \n                                                    {item.name} \n\n                                                </Typography>\n\n                                                <Typography variant=\"body2\"\n                                                    onClick = {\n                                                        () => {\n                                                            // alert(\"aisod\");\n                                                            // console.log(this);\n                                                            // this.window.props.location.href(item.linkToUser)\n                                                            window.open(item.linkToProfile);\n                                                        }\n                                                    }\n                                                >\n\n                                                    Let's talk!\n\n                                                </Typography>\n\n                                                {/* <img\n                                                    width={200}\n                                                    height={200}\n                                                    src={item.image}\n                                                /> */}\n\n                                            </Box>\n                                        )\n                                    })\n                                }\n\n                            </Paper>\n\n                        </Container>\n\n                        :\n\n                        <CircularProgress />\n\n                }\n\n            </Container>\n        );\n\n    }\n\n}\n\nexport default UserDashboard;"]},"metadata":{},"sourceType":"module"}